//added LANTR multimode

@PART[nuclearEngineLANTR]:FOR[RealFuels_StockEngines] //LANTERN Engine
{
  
  @mass = 0.828
  @cost = 23940
  %entryCost = 119700
  @maxTemp = 2400
  
  
  @MODULE[ModuleEngine*]:HAS[#engineID[Regular]]
  {
    @maxThrust = 65
    @heatProduction = 299
    @atmosphereCurve
    {
      @key,0 = 0 1010
      @key,1 = 1 452
    }
    !PROPELLANT[LiquidFuel] {}
    !PROPELLANT[Oxidizer] {}
    !PROPELLANT[MonoPropellant] {}
    PROPELLANT
    {
      name = LqdHydrogen
      ratio = 100.000000
      DrawGauge = True
      %flowMode = STACK_PRIORITY_SEARCH
    }
    
  }

  @MODULE[ModuleEngine*]:HAS[#engineID[Afterburner]]
  {
    @maxThrust = 533
    @heatProduction = 299
    @atmosphereCurve
    {
      @key,0 = 0 701
      @key,1 = 1 314
    }
    !PROPELLANT[LiquidFuel] {}
    !PROPELLANT[Oxidizer] {}
    !PROPELLANT[MonoPropellant] {}
    PROPELLANT
      {
        name = LqdHydrogen
        ratio = 100
        DrawGauge = True
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = LqdOxygen
        ratio = 0
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = U235Rods
        ratio = 0.00000000001
      }
      IspSL = 0.4818
      IspV = 0.4818
      throttle = 0
    }
  
  MODULE
  {
    name = ModuleEngineConfigs
    type = ModuleEnginesFX
    engineID = Regular
    techLevel = 8
    origTechLevel = 8
    engineType = N
    origMass = 0.828
    configuration = NTRLqdHydrogen
    modded = false
    
    CONFIG
    {
      name = NTRLqdHydrogen
      maxThrust = 65
      heatProduction = 299
      PROPELLANT
      {
        name = LqdHydrogen
        ratio = 100
        DrawGauge = True
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = U235Rods
        ratio = 0.00000000001
      }
      IspSL = 1.0000
      IspV = 1.0000
      throttle = 0
      MODULE
      {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 0
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        IGNITOR_RESOURCE
        {
          name = ElectricCharge
          amount = 0.65
        }
      }
      
      
    }
    CONFIG
    {
      name = NTRLqdAmmonia
      maxThrust = 99
      heatProduction = 299
      PROPELLANT
      {
        name = LqdAmmonia
        ratio = 100
        DrawGauge = True
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = U235Rods
        ratio = 0.00000000001
      }
      IspSL = 0.5331
      IspV = 0.5331
      throttle = 0
      MODULE
      {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 0
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        IGNITOR_RESOURCE
        {
          name = ElectricCharge
          amount = 0.65
        }
      }
      
      
    }
    CONFIG
    {
      name = NTRLqdMethane
      maxThrust = 109
      heatProduction = 299
      PROPELLANT
      {
        name = LqdMethane
        ratio = 100
        DrawGauge = True
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = U235Rods
        ratio = 0.00000000001
      }
      IspSL = 0.6689
      IspV = 0.6689
      throttle = 0
      MODULE
      {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 0
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        IGNITOR_RESOURCE
        {
          name = ElectricCharge
          amount = 0.65
        }
      }
      
      
    }

  !MODULE[ModuleEngineIgnitor] {}
  MODULE
  {
    name = ModuleEngineIgnitor
    ignitionsAvailable = 0
    autoIgnitionTemperature = 800
    ignitorType = Electric
    useUllageSimulation = true
    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 0.65
    }
  }
  
  !MODULE[ModuleAlternator] {}
  !MODULE[ModuleGenerator] {}
  !RESOURCE[U235Rods] {}
  !RESOURCE[DepU235Rods] {}
  MODULE
  {
    name = ModuleAlternator
    OUTPUT_RESOURCE
    {
      name = U235Rods
      rate = -5.416666666666667E-18
    }
    OUTPUT_RESOURCE
    {
      name = DepU235Rods
      rate = 5.416666666666667E-18
    }
    OUTPUT_RESOURCE
    {
      name = ElectricCharge
      rate = 3.25
    }
  }
  MODULE
  {
    name = ModuleGenerator
    isAlwaysActive = true
    OUTPUT_RESOURCE
    {
      name = ElectricCharge
      rate = 1.625
    }
    OUTPUT_RESOURCE
    {
      name = DepU235Rods
      rate = 5.416666666666667E-18
    }
    INPUT_RESOURCE
    {
      name = U235Rods
      rate = 5.416666666666667E-18
    }
  }
  RESOURCE
  {
    name = U235Rods
    amount = 5.416666666666667
    maxAmount = 5.416666666666667
  }
  RESOURCE
  {
    name = DepU235Rods
    amount = 0
    maxAmount = 5.416666666666667
  }
  
}

@PART[nuclearEngineLightbulb]:FOR[RealFuels_StockEngines] //CCGC-7 Nuclear Lightbulb
{

  @mass = 23
  @cost = 436698
  %entryCost = 2183490
  @maxTemp = 10000


  @MODULE[ModuleEnginesFX]
  {
    @maxThrust = 450
    @heatProduction = 1372
    @atmosphereCurve
    {
      @key,0 = 0 1500
      @key,1 = 1 671
    }
    !PROPELLANT[LiquidFuel] {}
    !PROPELLANT[Oxidizer] {}
    !PROPELLANT[MonoPropellant] {}
    PROPELLANT
    {
      name = LqdHydrogen
      ratio = 100.000000
      DrawGauge = True
      %flowMode = STACK_PRIORITY_SEARCH
    }

  }

  MODULE
  {
    name = ModuleEngineConfigs
    type = ModuleEnginesFX
    techLevel = 8
    origTechLevel = 8
    engineType = N
    origMass = 23
    configuration = NTRLqdHydrogen
    modded = false

    CONFIG
    {
      name = NTRLqdHydrogen
      maxThrust = 450
      heatProduction = 1372
      PROPELLANT
      {
        name = LqdHydrogen
        ratio = 100
        DrawGauge = True
        %flowMode = STACK_PRIORITY_SEARCH
      }
      PROPELLANT
      {
        name = U235Rods
        ratio = 0.00000000001
      }
      IspSL = 1.4852
      IspV = 1.4852
      throttle = 0
      MODULE
      {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 0
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        IGNITOR_RESOURCE
        {
          name = ElectricCharge
          amount = 4.5
        }
      }

    }
  }
  !MODULE[ModuleEngineIgnitor] {}
  MODULE
  {
    name = ModuleEngineIgnitor
    ignitionsAvailable = 0
    autoIgnitionTemperature = 800
    ignitorType = Electric
    useUllageSimulation = true
    IGNITOR_RESOURCE
    {
      name = ElectricCharge
      amount = 4.5
    }
  }

  !MODULE[ModuleAlternator] {}
  !MODULE[ModuleGenerator] {}
  !RESOURCE[U235Rods] {}
  !RESOURCE[DepU235Rods] {}
  MODULE
  {
  name = ModuleAlternator
    OUTPUT_RESOURCE
    {
      name = U235Rods
      rate = -37.5E-18
    }
    OUTPUT_RESOURCE
    {
      name = DepU235Rods
      rate = 37.5E-18
    }
    OUTPUT_RESOURCE
    {
      name = ElectricCharge
      rate = 22.5
    }
  }
  MODULE
  {
    name = ModuleGenerator
    isAlwaysActive = true
    OUTPUT_RESOURCE
    {
      name = ElectricCharge
      rate = 11.25
    }
    OUTPUT_RESOURCE
    {
      name = DepU235Rods
      rate = 37.5E-18
    }
    INPUT_RESOURCE
    {
      name = U235Rods
      rate = 37.5E-18
    }
  }
  RESOURCE
  {
    name = U235Rods
    amount = 37.5
    maxAmount = 37.5
  }
  RESOURCE
  {
    name = DepU235Rods
    amount = 0
    maxAmount = 37.5
  }

}
